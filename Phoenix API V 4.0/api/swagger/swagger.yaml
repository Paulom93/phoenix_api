swagger: "2.0"
info:
  version: "0.0.3"
  title: IOT Solutions
# during dev, should point to your local machine
host: localhost:10010
# basePath prefixes all resource paths 
basePath: /
# 
schemes:
  # tip: remove http to make production-grade
  - http
  - https
# format of bodies a client can send (Content-Type)
consumes:
  - application/json
# format of the responses to the client (Accepts)
produces:
  - application/json
paths:
  
  #############################################################################
  #################################A MINHA CONTA###############################
  #############################################################################
  /user_notifications:
    get:
      tags:
        - User
      summary: "Return User information"
      description: Returns my information 
      operationId: getUserNotifications
      parameters:
        - $ref: '#/parameters/user_id'
      responses:
        200:
          description:  Notification for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/Notifications'  
  
  /user_account:
    get:
      tags:
        - User
      summary: "Return User information"
      description: Returns my information 
      operationId: getAccountInfo
      parameters:
        - $ref: '#/parameters/user_id'
      responses:
        200:
          description:  Notification for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/UserAccount'  
  
  /user_setting/{id}:
    get:
      tags:
        - User
      summary: "Return User settings"
      description: Returns my settings 
      operationId: getAccountSettings
      parameters:
      - in: path
        name: id
        description: The id of user
        required: true
        type: integer
        format: int32
      responses:
        200:
          description:  OK
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              date_format:
                type: array
                items:
                  $ref: '#/definitions/DateFormatUserSetting'
              language:
                type: array
                items:
                  $ref: '#/definitions/LanguageUserSetting'
              timezone:
                type: array
                items:
                  $ref: '#/definitions/TimezoneUserSetting'
              user_type:
                type: array
                items:
                  $ref: '#/definitions/UserTypeUserSetting'
                  
  
  /timezones:
    get:
      tags:
        - User
      summary: "Return Timezones"
      description: Returns all timezones 
      operationId: getTimezones

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              timezones:
                type: array
                items:
                  $ref: '#/definitions/TimeZones'       
  
  /countries:
     get:
      tags:
        - User
      summary: "Return Timezones"
      description: Returns all Countries 
      operationId: getCountries

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/Countries' 
  
  /user_types:
    get:
      tags:
        - User
      summary: "Return the User Types"
      description: User type can be Advanced or Basic
      operationId: getUserTypes

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/UserTypes'  
  
  /get_account_managemet_centers:
    get:
      summary: "Return User information"
      description: Returns my information 
      operationId: getManagementCenter
      parameters:
        - $ref: '#/parameters/user_id'
      responses:
        200:
          description:  Get account management centers  for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                   $ref: '#/definitions/ManagementCenters'  
  
  /languages:
    get:
      tags:
        - User
      summary: "Return the list of languages available"
      description: Return a list of all Languages, with country code, name and id
      operationId: getLanguages

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/Languages'  
  
  /user_gender_type:
    get:
      tags:
        - User
      summary: "Return the gender Types"
      description: Return gender types, with id and name , can be "masculino" and "feminino"
      operationId: getUserGenderType

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/UserGenderType'  
  
  /date_formats:
    get:
      tags:
        - User
      summary: "Return the date formats "
      description: Return date formats available with id and name , can be "MM-DD-YYYY" or "DD-MM-YYYY"
      operationId: getDateFromats

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/DateFormats'
  
  /get_apps:
    get:
      tags:
        - Server
      summary: "Return the Apps "
      description: Return the Apps
      operationId: getApps

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/Apps'
  
  /get_apps_segments:
    get:
      tags:
        - Server
      summary: "Return the segments "
      description: Return the app segments
      operationId: getAppSegments

      responses:
        200:
          description:   Descriptions
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                  $ref: '#/definitions/AppsSegments'
                  
  
  
  /get_user_entities_list:
    get:
      tags:
        - User
      summary: "Return User entities "
      description: Returns user entities  by User id (required)
      operationId: getUserEntitiesList
      parameters:
        - $ref: '#/parameters/user_id'
        - $ref: '#/parameters/filter'
        - $ref: '#/parameters/order'
        - $ref: '#/parameters/page'
        - $ref: '#/parameters/select'
        - $ref: '#/parameters/limit'
        
      responses:
        200:
          description:  Entities user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              entities:
                type: object
                items:
                  $ref: '#/definitions/Entities'
    
  /get_entities_branding:
    get:
      summary: "Return entities by user id"
      description: Return entities by user id ( parameters is only User_id and noo filters)
      operationId: getEntitiesBranding
      parameters:
      - $ref: '#/parameters/user_id'
      
      responses:
        200:
          description:  Get entities by user( request é feito sem filtros)
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              content:
                type: array
                items:
                   $ref: '#/definitions/EntitiesBranding'
  #############################################################################  
        #########################SUBSCRIÇOES#################################
  #############################################################################
  
  /get_app_name_by_user:
    get:
      tags:
        - User
      summary: "Return App name by user "
      description: Returns app names by User id (required)
      operationId: getAppNameByUser
      parameters:
        - $ref: '#/parameters/user_id'
        - $ref: '#/parameters/filter'
        - $ref: '#/parameters/order'
        - $ref: '#/parameters/page'
        - $ref: '#/parameters/select'
        - $ref: '#/parameters/limit'
        
      responses:
        200:
          description:  Notification for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              system_types:
                type: array
                items:
                  $ref: '#/definitions/SystemTypes'
  /get_user_systems:
    get:
      tags:
        - User
      summary: "Return User systems "
      description: Returns systems  by User id (required)
      operationId: getUserSystems
      parameters:
        - $ref: '#/parameters/user_id'
        - $ref: '#/parameters/filter'
        - $ref: '#/parameters/order'
        - $ref: '#/parameters/page'
        - $ref: '#/parameters/select'
        - $ref: '#/parameters/limit'

      responses:
        200:
          description:  Notification for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              user_system:
                type: object
                items:
                  $ref: '#/definitions/UserSystems'                
  /get_user_systen_acess_control:
    get:
      tags:
        - User
      summary: "Acess control  "
      description: Acess control
      operationId: getUserSystemsAcess

      responses:
        200:
          description:  Notification for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              #integrations:
                #type:
              acess_log:
                type: object
                items:
                  $ref: '#/definitions/Acess_log'
              info:
                type: array
                items:
                  $ref: '#/definitions/Info_user_system'
  /get_sub_header:
    get:
      summary: "Return sub menu for the user "
      description: Returns the sub menu of the user(parameters)
      operationId: getSubHeader
      parameters:
        - $ref: '#/parameters/app_id'
        - $ref: '#/parameters/app_segment_id'
        - $ref: '#/parameters/user_system_id'

      responses:
        200:
          description: sub  menus  for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              submenus:
                type: object
                items:
                  $ref: '#/definitions/Submenus'
    
    
    
  /get_menus:
    get:
      summary: "Return menu for the user "
      description: Returns the menu of the user(parameters)
      operationId: getMenusUser
      parameters:
        - $ref: '#/parameters/user_id'
        - $ref: '#/parameters/filter'
        - $ref: '#/parameters/order'
        - $ref: '#/parameters/page'
        - $ref: '#/parameters/select'
        - $ref: '#/parameters/limit'
        
      responses:
        200:
          description:  menus  for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              title:
                type: string
              system_entity:
                type: string
              icon:
                type: string
              branding:
               type: string
            #options:
                #type:  
              menus:
                type: array
                items:
                  $ref: '#/definitions/Menus'
              history:
                type: array
                items:
                  $ref: '#/definitions/History'   
    ###############TERMINAR##################      ###############TERMINAR##################      ###############TERMINAR##################      ###############TERMINAR##################      ###############TERMINAR##################      ###############TERMINAR##################                   
  /get_dashboard:
    get:
      summary: "Return dashboard for the user "
      description: Returns the dashboard of the user(parameters)
      operationId: getDashboard
      parameters:
        - $ref: '#/parameters/internal_key'
      
      responses:
        200:
          description:  menus  for the user
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int32
              dashboard:
                type: array
                items:
                  $ref: '#/definitions/Dashboard'
  
    #############################################################################  
        #########################HARDWARE#################################
  #############################################################################
  
  /gw_notification_type :
    get:
      tags:
        - User
      summary: "Return notification type"
      description: Returns the notification type
      operationId: getNotificationType
      responses:
        200:
          description:  OK 
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int32
              notification_type:
                type: array
                items:
                  $ref: '#/definitions/Notification_type'
  /get_lg_gw_notifications:
     get:
      summary: "Return User systems "
      description: Returns systems  by User id (required)
      operationId: getlgGatewayNotification
      parameters:
        - $ref: '#/parameters/user_id'
        - $ref: '#/parameters/filter'
        - $ref: '#/parameters/order'
        - $ref: '#/parameters/page'
        - $ref: '#/parameters/select'
        - $ref: '#/parameters/limit'

      responses:
        200:
          description: OK
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              notifications:
                type: object
                items:
                  $ref: '#/definitions/GetwayNotification'
    
  /get_gateway_types:
    get:
      summary: "Return gateway types "
      description: Returns the Gateway Types 
      operationId: getGatewayTypes
      
      responses:
        200:
          description:  return gateway types
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int32
              GatewayTypes:
                type: array
                items:
                  $ref: '#/definitions/GatewayTypes'
  /get_logical_gateways:
    get:
      summary: "Return logical gateway  "
      description: Returns logical gateway with parameters
      operationId: getLogicalGateway 
      parameters:
        - $ref: '#/parameters/user_id'
        - $ref: '#/parameters/filter'
        - $ref: '#/parameters/order'
        - $ref: '#/parameters/page'
        - $ref: '#/parameters/select'
        - $ref: '#/parameters/limit'
        
      responses:
        200:
          description:  OK
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              logical_gateways:
                type: object
                items:
                  $ref: '#/definitions/LogicalGateways'
                  
                  
      #############################################################################  
        #########################CATEGORIES#################################
  #############################################################################                
  /get_user_devices_categories:
    get:
      tags:
        - User
        - Categories
      summary: "Return device categories  "
      description: Return device categories with parameter User_id
      operationId: getUserCategories 
      parameters:
        - $ref: '#/parameters/user_id'  
      
      responses:
        200:
          description:  OK
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              logical_gateways:
                type: object
                items:
                  $ref: '#/definitions/DeviceCategories'
  
  /Update_user:
    put:
      tags:
        - User
      summary: "Updates `User` profile"
      description: Updates user profile
      operationId: UpdateMyProfile
      parameters:
        - in: body
          name: body
          description: ´User´ to be updated
          required: true
          schema:
            $ref: "#/definitions/UserProfileEdit"
            
      responses:
        200:
          description:  A alteração foi efectuada com sucesso.
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              UserProfileUpdate:
                type: object
                items: 
                  $ref: '#/definitions/UserProfileEditReturn'
                              
                  
                  
  /get_user_full_systems_and_their_app_segments:
    get:
      tags:
        - User
      summary: "Return User systems "
      description: Returns systems  by User id (required)
      operationId: getUserFullSystems
      parameters:
        - $ref: '#/parameters/user_id'

      responses:
        200:
          description:  SUCCESS
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              user_system:
                type: object
                items:
                  $ref: '#/definitions/UserFullSystems'
 ############ bee2Waste#######################
 
  /get_user_systems_location:
    get:
      tags:
        - User
      summary: "Return device categories  "
      description: Return device categories with parameter User_id
      operationId: getUserSystemsLoca 
      parameters:
        - $ref: '#/parameters/user_id'  
      
      responses:
        200:
          description:  OK
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              entities:
                type: object
                items:
                  $ref: '#/definitions/EntitiesLocation'
              hardware:
                type: array
                items:
                  $ref: '#/definitions/Hardware'
              locations:
                type: object
                items:
                  $ref: '#/definitions/Locations'

 
  ##################################################################################
 ################################################"PARTILHAS"########################
 ################################################          ########################
 ##################################################################################
  
  /get_systemm_shares_received:
    get:
      tags:
        - Server
      summary: "Return system shares  "
      description: Return system shares
      operationId: getSystemShares 
      parameters:
        - $ref: '#/parameters/user_id'
        - $ref: '#/parameters/filter'
        - $ref: '#/parameters/order'
        - $ref: '#/parameters/page'
        - $ref: '#/parameters/select'
        - $ref: '#/parameters/limit'
      
      responses:
        200:
          description:  OK
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              code:
                type: number
              timestamp:
                type: integer
                format: int64
              user_system_shares:
                type: object
                items:
                  $ref: '#/definitions/UserSystemShares'
             
 
 
 ##################################################################################
 ################################################"Terminar"########################
 ################################################          ########################
 ##################################################################################
  #/is_alive:
  
  #/get_permissions:
  
  #/get_permissions2:
  
  #/sessions:
  
 #/count_connected_logical_gateways
 
 
 

    
  
######################################################################################## 
######################################definitions#######################################
########################################################################################
definitions:

  
  UserAccount:
    type: object
    properties:
      birth_date:  
        type: string
      country_id:
        type: integer
        format: int32
      country_desc:
        type: string
      display_name:
        type: string
      email:
        type: string
      full_name: 
        type: string
      gender_type_desc:
        type: string
      gender_type_id:
        type: integer
        format: int32
      image_profile_url:
        type: string
      public_name:
        type: string
      vat_number:
        type: number
      management_centers:
        type: array
        items:
          $ref: '#/definitions/DefaultManagementCenter'
      user_acc_settings:
        type: array
        items: 
          $ref: '#/definitions/UserAccSettings'
        
  Notifications:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      user_account_id:
        type: integer
        format: int32
      title:
        type: string
      message:
        type: string
      notification_type_id:
        type: integer
        format: int32
      image_type: 
        type: string
      image:
        type: string
      state:
        type: string
      read:
        type: boolean
  Notification_type:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      name:
        type: string
      internal_description:
        type: string

  Countries:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      name:
        type: string
      country_code:
        type: string
        
  UserGenderType:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      name:
        type: string
        
  Languages:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      name:
        type: string
      country_code:
        type: string
        
  LanguageUserSetting:
    type: object
    properties:
      id: 
         type: integer
         format: int32
      internal_code:
        type: string
      description: 
        type: string
      country_code:
        type: string
        
  
  TimeZones:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      name:
        type: string
  TimezoneUserSetting:
    type: object
    properties:
      id:
        type: integer
        format: int32
      description:
        type: string
      country_code:
        type: string
      utc_offset:
        type: string
        format: date-time      
        
  UserTypes:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      name:
        type: string
  UserTypeUserSetting:
    type: object
    properties:
      id:
        type: integer
        format: int32
      internal_code:
        type: string
      internal_description:
        type: string
                  
        
  DateFormats:
    type: object
    properties:
      id:  
        type: integer
        format: int32
      name:
        type: string      
        
  DateFormatUserSetting:
    type: object
    properties:
      id:
        type: integer
        format: int32
      internal_code:
        type: string
      internal_description:
        type: string
      locale:
        type: string
  
  DefaultManagementCenter:
    type: object
    properties:
      id:
        type: integer
        format: int32
      management_center_id:
        type: integer
        format: int32
      user_account_id:
        type: integer
        format: int32
      flg_deleted:
        type: boolean
      creator_id:
        type: integer
        format: int32
      updater_id: 
        type: integer
        format: int32
      created_at:
        type: string
        format: date-time
      updated_at: 
        type: string
        format: date-time
      deleted_at:
        type: string
        format: date-time
      is_default:
        type: boolean
  ManagementCenters:
    type: object
    properties:
      id:
        type: integer
        format: int32
      name:
        type: string
      external_id:
        type: integer
        format: int32
  
  UserAccSettings:
    type: object
    properties:
      id:
        type: integer
        format: int32
      language_id:
        type: integer
        format: int32
      date_format_id:
        type: integer
        format: int32
      timezone_id:
        type: integer
        format: int32
  
  Apps:
    type: object
    properties:
      id:
        type: integer
        format: int32
      segment_id:
        type: integer
        format: int32
      segment_state:
        type: string
      icon:
        type: string
      state:
        type: string
      name:
        type: string
      direction:
        type: string
 
  AppsSegments:
    type: object
    properties:
      id:
        type: integer
        format: int32
      icon:
        type: string
      direction:
        type: string
      state: 
        type: string
      name:
        type: string
      visible:
        type: boolean
  
  UserSystems:
    type: object
    properties:
      code:
        type: integer
        format: int32
      limit:
        type: string
      message:
        type: string
      status: 
        type: string
      total:
        type: string
      data:
        type: array
        items:
          $ref: '#/definitions/DataUserSystems'
          
  DataUserSystems:
    type: object
    properties:
      id:
        type: integer
        format: int32
      app_id:
        type: integer
        format: int32
      app_state:
        type: string
      name:
        type: string
      app:
        type: string
      owner:
        type: string
      system_owener:
        type: boolean
        
  SystemTypes:
    type: object
    properties:
      0:
        type: string
      1:
        type: string
      
  Entities:
    type: object
    properties:
      code:
        type: number
      limit:
        type: string
      message:
        type: string
      status: 
        type: string
      total:
        type: string
      timestamp:  
        type: string
        format: date-time
      data:
        type: array
        items:
          $ref: '#/definitions/DataEntities'
  
  DataEntities: 
    type: object
    properties:
      id:
        type: integer
        format: int32
      name:
        type: string
      description:
        type: string
        
  EntitiesBranding:
    type: object
    properties:
      adress_city:
        type: string
      adress_country_code:
        type: string
      address_postal_code_1:
        type: string
      address_postal_code_2: 
        type: string
      address_postal_code_location:
        type: string
      address_street:  
        type: string
      email:
        type: string
      gps_latitude:
        type: number
        format: float
      gps_longitude:
        type: number
        format: float
      id:
        type: integer
        format: int32
      logo_url:
        type: string
      name:
        type: string
      nif:
        type: string
      phone:
        type: string
  
  Menus:
    type: object
    properties:
      app_header_menu_id:
        type: integer
        format: int32
      id:
        type: integer
        format: int32  
      label:
        type: string
      material_icon:
        type: string
      state: 
        type: string
      share_role_id:
        type: integer
        format: int32
      my_share_role_id:  
        type: integer
        format: int32
      share_role_internal_code:
        type: string
      flg_read:
        type: boolean
      flg_write:
        type: boolean
      flg_create:
        type: boolean
      flg_remove:
        type: boolean
      flg_program:
        type: boolean

        
  History:
    type: object
    properties:
      id:
        type: integer
        format: int32
      last_record:
        type: string
      name:
        type: string
      app_state: 
        type: string
      icon:
        type: string
        
        
  GatewayTypes:
    type: object
    properties:
      id:
        type: integer
        format: int32
      name:
        type: string
  LogicalGateways:
    type: object
    properties:
      code:
        type: string
      limit:
        type: string
      message:
        type: string
      status: 
        type: string
      timestamp:
        type: string
      total:
        type: string
      data:
        type: array
        items:
            $ref: '#/definitions/DataGateways'
            
  DataGateways:
    type: object
    properties:
      id:
        type: integer
        format: int32
      description:
        type: string
      external_id:  
        type: integer
        format: int32
      decimal_id:
        type: integer
        format: int32
      gateway_type_id:
        type: integer
        format: int32
      gateway_type:
        type: string
      gateway_id:
        type: integer
        format: int32  
      timezone_id:
        type: integer
        format: int32
      user_account_id:
        type: integer
        format: int32
      last_upd:
        type: string
      last_touch_dt_utc:
        type: string
        format: date-time
      communication_state:
        type: string
      flg_active:
        type: boolean
      flg_sync:
        type: boolean
      created_at:
        type: string
      updated_at:
        type: string
      gps_latitude:
        type: number
        format: float
      gps_longitude:  
        type: number
        format: float
      owner_id:
        type: integer
        format: int32
  UserFullSystems:
    type: object
    properties:
      id:
        type: integer
        format: int32
      app_segment_id:
        type: integer
        format: int32
      name:
        type: string
        
  DeviceCategories:
    type: object
    properties:
      id:
        type: integer
        format: int32
      app_id:
        type: integer
        format: int32
      gateway_id:
        type: integer
        format: int32
      name:
        type: string
      alias:
        type: string
      flg_system:
        type: boolean
      user_tree_type_id:
        type: integer
        format: int32
      icon_url:
        type: string
      user_system_id:
        type: integer
        format: int32  
      entity_id:
        type: integer
        format: int32
      node_id:
        type: integer
        format: int32  
      parent_id:
        type: integer
        format: int32
      gps_lat:
        type: number
        format: float
      gps_long:
        type: number
        format: float
      state:
        type: string
      node_type:
        type: string
      flg_admin:
        type: boolean
      nodrag:
        type: boolean
      nodrop:
        type: boolean
      device_type_id:
        type: integer
        format: int32
      device_type_img:
        type: string
      indicator_type_img:
        type: string
      min:
        type: string
      max: 
        type: string
      med: 
        type: string
      acc: 
        type: string
      internal_code:
        type: string
      acc_symbol: 
        type: string
      med_symbol: 
        type: string
      max_symbol: 
        type: string
      min_symbol: 
        type: string
      cpe:
        type: string
      available_as_kpi: 
        type: boolean
      ###nodes: []  
      
  DataNotification:
    type: object
    properties:
      id:
        type: integer
        format: int32
      description:
        type: string
      external_id:  
        type: integer
        format: int32
      logical_getway_id:
        type: integer
        format: int32
      notification_type_id:
        type: integer
        format: int32
      notification_type:
        type: string
      phone_numbers_to_notify:
        type: string
      ref_value:
        type: string
      emails_to_notify:
        type: string
    
    
  GetwayNotification:
      type: object
      properties:
        code:
          type: string
        limit:
          type: string
        totale:
          type: string
        data:
          type: array
          items: 
            $ref: '#/definitions/DataNotification'
            
    
  ###############TERMINAR##################      
  Dashboard:
    type: object
    properties:
      id:
        type: integer
        format: int32
      flag_active:
        type: boolean
      name:
        type: string
      rank: 
        type: string
      permission_id:
        type: integer
        format: int32
      internal_key:
        type: string
      additional_info::
        type: string
      #rows:
       # type: array
        #items:
         # $ref: '#/definitions/Rows'
         
  Acess_log:
    type: object
    properties:
      id:
        type: integer
        format: int32
      user_system_id: 
        type: integer
        format: int32
      user_account_id:
        type: integer
        format: int32
      creator_id:
        type: integer
        format: int32
      updater_id:
        type: integer
        format: int32
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time
        
  Info_user_system:
    type: object
    properties:
      id:
        type: integer
        format: int32
      user_account_id:
        type: integer
        format: int32
      name:
        type: string
      description:
        type: string
      unit_price:
        type: string
      gps_latitude:
        type: number
        format: float
      gps_longitude:
        type: number
        format: float
      gps_description:
        type: string
      gps_location:
        type: string
      #remarks:
      #integrations
      flg_public:
        type: boolean
      flg_active:
        type: boolean
      general_irrigation:
        type: string
      image_profile_url:
        type: string
      system_location_type:
        type: string
      created_at:
        type: string
        format: date-time
      access_type:
        type: string
      app:
        type: object
        items: 
          $ref: '#/definitions/UserSystemApp'
      owner:
        type: object
        items: 
          $ref: '#/definitions/UserSytemOwner'
      share_info:
        type: object
        items: 
          $ref: '#/definitions/ShareInfo'    
          
  UserSystemApp:
    type: object
    properties:
      id:
        type: integer
        format: int32
      name:
        type: string
    
  UserSytemOwner:
    type: object
    properties:
      id:
        type: integer
        format: int32
      dispaly_name:
        type: string
        
  ShareInfo:
    type: object
    properties:
      shared_at:
        type: string
        format: date-time
      shared_by:
        type: string
    
  Submenus:
    type: object
    properties:
      id:
        type: integer
        format: int32
      internal_code:
        type: string
      rank:
        type: string
      url_state:
        type: string
  
  EntitiesLocation:
    type: object
    properties:
      id:
        type: integer
        format: int32
      name:
        type: string
      state:
        type: string
      coords:
        type: array
        items: 
           $ref: '#/definitions/Coordinates'
  
  Coordinates:
    type: object
    properties: 
      latitude:
        type: number
        format: float
      longitude:
        type: number
        format: float
  
  Hardware:
    type: object
    properties:
      id:
        type: integer
        format: int32
      description:
        type: string
      external_id:
        type: integer
        format: int32
      gateway_id:
        type: string
      is_connected:
        type: boolean
      last_touch_dt_utc:
        type: string
        format: date-time
      last_upd:
        type: string
        format: date-time
      state:
        type: string
      icon_marker_url:
        type: string
      gps_latitude:
        type: number
        format: float
      gps_longitude:
        type: number
        format: float
      flg_active:
        type: boolean
        
  Locations:
    type: object
    properties:
      id:
        type: integer
        format: int32
      user_id:
        type: integer
        format: int32
      internal_code:
        type: string
      internal_description:
        type: string
      app_id:
        type: integer
        format: int32
      communication_state_id:
        type: integer
        format: int32
      name:
        type: string
      flg_active:
        type: boolean
      flg_public:
        type: boolean
      gps_latitude:
        type: number
        format: float
      gps_longitude:
        type: number
        format: float
      icon_mark_url:
        type: string
      icon_url:
        type: string
      systemboards_tabs_widgets_configuration:
        type: string
      state:
        type: string
        
        
  UserSystemShares:
    type: object
    properties:
      limit:
        type: string
      total:
        type: string
      data:
        type: array
        items: 
          $ref: '#/definitions/SystemSharesData'
        
  SystemSharesData:
    type: object
    properties:
      id:
        type: integer
        format: int32
      system_id:
        type: integer
        format: int32
      system_name:
        type: string
      app_id: 
        type: integer
        format: int32
      shared_by:
        type: string
      email:
        type: string
      confirmed:
        type: boolean
      confirmed_at:
        type: string
        format: date-time
      share_role_id: 
        type: integer
        format: int32
      share_role_name:
        type: string
#####################################################################    
###########################PUTS#################################
#####################################################################


  UserProfileEdit:
    type: object
    properties:
      birth_date:  
        type: string
      country_id:
        type: integer
        format: int32
      country_desc:
        type: string
      display_name:
        type: string
      email:
        type: string
      full_name: 
        type: string
      gender_type_desc:
        type: string
      gender_type_id:
        type: integer
        format: int32
      image_profile_url:
        type: string
      public_name:
        type: string
      vat_number:
        type: number
      management_centers:
        type: array
        items:
          $ref: '#/definitions/DefaultManagementCenter'
      user_acc_settings:
        type: array
        items: 
          $ref: '#/definitions/UserAccSettings'
    
      
  UserProfileEditReturn:
    type: object
    properties:
      birth_date:  
        type: string
      country_id:
        type: integer
        format: int32
      country_desc:
        type: string
      display_name:
        type: string
      email:
        type: string
      full_name: 
        type: string
      gender_type_desc:
        type: string
      gender_type_id:
        type: integer
        format: int32
      image_profile_url:
        type: string
      public_name:
        type: string
      vat_number:
        type: number
      management_centers:
        type: array
        items:
          $ref: '#/definitions/DefaultManagementCenter'
      user_acc_settings:
        type: array
        items: 
          $ref: '#/definitions/UserAccSettings'
    
#####################################################################    
###########################PARAMETERS#################################
#####################################################################   

parameters:
    user_id:
      name: user_id
      in: query
      description: The id of user
      required: true
      type: integer
      format: int32
    filter:  
      name: filter
      in: query
      description: Filter
      required: false
      type: string
    limit:  
      name: limit
      in: query
      description: limit of results per request
      type: string
    order:  
      name: order
      in: query
      description: order of the results , cres or decres for ex
      required: false
      type: string
    page:  
      name: page
      in: query
      description: umber of the page of the results
      required: false
      type: string
    select:  
      name: select
      in: query
      type: integer
      format: int32
      enum: [10,25,50]
      description: select between 10, 25 or 50 
      required: false
    internal_key:  
      name: internal_key
      in: query
      description: internal key  for example Ez energy
      required: true
      type: string  
    app_id:
      name: app_id
      in: query
      description: The id of user
      required: true
      type: integer
      format: int32
    app_segment_id:
      name: app_segment_id
      in: query
      description: The id of user
      required: true
      type: integer 
    user_system_id:
      name: user_system_id
      in: query
      description: The id of user
      required: true
      type: integer 